#
# To test use the following commands:
# ACCELEROMETER_QUERY CHIP=hotend
# ACCELEROMETER_QUERY CHIP=bed
#
###################################################################################
# Input Shaper Hardware
###################################################################################

[adxl345 hotend]
cs_pin: rpi:None
#axes_map: -z,y,-x # X Mapping
#axes_map: -x,y,z # Y Mapping
#   The accelerometer axis for each of the printer's X, Y, and Z axes.
#   This may be useful if the accelerometer is mounted in an
#   orientation that does not match the printer orientation. For
#   example, one could set this to "y, x, z" to swap the X and Y axes.
#   It is also possible to negate an axis if the accelerometer
#   direction is reversed (eg, "x, z, -y"). The default is "x, y, z".

[adxl345 bed]
# This defines the new sensor connected to the SKR Mini E3 v1.2
# It uses the 'PA2' pin from the TFT header as requested.
cs_pin: PA2
# This tells Klipper to use the dedicated hardware 'SPI1' bus on the SKR board [2, 3]
spi_bus: spi1
# You must verify the orientation of this sensor and set the axes_map accordingly
axes_map: x,y,z


###################################################################################
#Input Shaper Hardware
###################################################################################
[resonance_tester]
# Assign the RPi sensor to the X-axis
accel_chip_x: adxl345 hotend
accel_chip_y: adxl345 bed
probe_points:
    109,113,20
# The following line enables the default sweeping test behavior
# (or explicitly sets the period to 1.2s if you prefer):
#sweeping_period: 0 # Old Version, good when trouble shooting
sweeping_period: 1.2 # New Version, good for final input shaper calibration